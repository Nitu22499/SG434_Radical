{% extends 'base.html' %}
{% load static %}

{% block body %}
    <div class="container">
        <br>
        <h1>{{ attendance.student_attendance_subject.subject_name }} â€¢ {{ attendance.student_attendance_date }}</h1>
        <div>
            <p class="text-muted">Class
                <b>{{ attendance.student_attendance_subject.subject_class }}

                    {% if attendance.student_attendance_section %}
                        - {{ attendance.student_attendance_section }}
                    {% endif %}
                </b>
            </p>
        </div>

        <form method="post" action="{% url 'attendance:student-mark-attendance' attendance.id %}">
            {% csrf_token %}
            <button class="btn btn-primary"><i class="fas fa-save"></i>&nbsp;Save</button>
            <a class="btn text-muted" href="{% url 'attendance:student-detail' attendance.pk %}"><i
                    class="fas fa-chevron-left"></i> return
                back</a>
            <br><br>

            <table class="table table-responsive table-striped table-hover">
                <thead class="table-dark">
                <tr>
                    <th scope="col">Roll no</th>
                    <th scope="col">First name</th>
                    <th scope="col">Last name</th>
                    <th scope="col" class="text-center">attendance</th>
                </tr>
                </thead>
                <tbody>
                {% for student in students %}

                    <tr>
                        <th scope="row">{{ student.student_attendance_item_student.stud_rollno }}</th>
                        <td>{{ student.student_attendance_item_student.user.first_name }}</td>
                        <td>{{ student.student_attendance_item_student.user.last_name }}</td>
                        <td>
                            <!--suppress HtmlFormInputWithoutLabel -->
                            <input type="checkbox" value="{{ student.id }}" name="present" id="{{ student.id }}"
                                   {% if student.student_attendance_item_is_present %}checked{% endif %}>
                        </td>
                    </tr>
                {% endfor %}


                </tbody>
            </table>

            <button class="btn btn-primary"><i class="fas fa-save"></i>&nbsp;Save</button>
            <a class="btn text-muted" href="{% url 'attendance:student-detail' attendance.pk %}"><i
                    class="fas fa-chevron-left"></i> &nbsp;
                return back</a>
        </form>

    </div>

{% endblock body %}